<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Send Notification</title>
  <!-- Link to icon for notifications -->
  <link rel="icon" type="image/svg+xml" href="https://fonts.gstatic.com/s/i/short-term/release/materialsymbolsoutlined/mail/default/48px.svg">
      <script src="swiped-events.js"></script>

</head>
<body data-swipe-threshold="150" data-swipe-timeout="250">
  <button id="noteButton" style="width: 400px; height: 80px" onclick="scheduleNotification()">Send Notification in 5 Seconds</button>

  <!-- JavaScript to register Service Worker -->
  <script>
    document.getElementById('noteButton').addEventListener('swiped-right', function(e) {
    alert("swiped right");
});

    document.getElementById('noteButton').addEventListener('swiped-left', function(e) {
    alert("swiped left");
});
    
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('serviceworker.js')
          .then((registration) => {
            console.log('Service Worker registered:', registration);
          })
          .catch((error) => {
            console.error('Service Worker registration failed:', error);
          });
      });
    }
    
    function scheduleNotification() {
      setTimeout(() => {
        if ('serviceWorker' in navigator && 'Notification' in window) {
          navigator.serviceWorker.ready.then(registration => {
            registration.showNotification('Scheduled Notification', {
              body: 'This is a notification from your web app!',
              icon: 'https://fonts.gstatic.com/s/i/short-term/release/materialsymbolsoutlined/mail/default/48px.svg'
            });
          }).catch(error => {
            console.error('Service Worker registration error:', error);
          });
        } else {
          console.log('Service Worker or Notification API not supported.');
        }
      }, 5000); // 5 seconds delay
    }
  </script>
</body>
</html>
